{"version":3,"file":"static/js/182.25c0ef15.chunk.js","mappings":"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","sources":["components/UserDetails.jsx"],"sourcesContent":["import { collection, deleteDoc, doc, getDoc, getDocs, query, updateDoc } from 'firebase/firestore';\nimport React, { useEffect, useState } from 'react'\nimport { db } from '../service/firebase/firebaseConfig';\nimport { AiTwotoneEdit } from \"react-icons/ai\";\nimport { MdOutlineDeleteOutline } from \"react-icons/md\";\nimport { RxCross2 } from \"react-icons/rx\";\nimport { TbLoader3 } from 'react-icons/tb';\nimport { useSelector } from 'react-redux';\n\n\nfunction UserDetails() {\n\n  const [userDatas, setUserDatas] = useState([]);\n  const [load, setLoad] = useState(true);\n  const [bgBlur, setBlur] = useState(false);\n  const [editData, setEditData] = useState([{id:'', firstname:'', lastname:'', email:''}]);\n  const [delData, setDelData] = useState('');\n  const [editPopup, setEditPopup] = useState(false);\n  const [deletePopup, setDeletePopup] = useState(false);\n  \n  const handleData = (e) =>{\n    setEditData({ ...editData, [e.target.name]: e.target.value });\n  }\n  \n  const getUserData = async() =>{\n    let users = [];\n    const qry = query(collection(db, \"users\"));\n    const datasnapshot = await getDocs(qry);\n    datasnapshot.forEach((ele) => {\n        users.push({...ele.data(), id:ele.id})\n    });\n    setUserDatas(users);\n    setLoad(false);\n }\n\n  // search filter operation\n\n  const searchText = useSelector((state) => state.search.search)\n//  console.log(\"search\"+searchText);\n \n  let filterDatas = [...userDatas];\n\n  if(searchText){\n    filterDatas = userDatas.filter((theuser)=>{\n      if( theuser.firstname.toLowerCase().includes(searchText) || theuser.lastname.toLowerCase().includes(searchText) || theuser.email.toLowerCase().includes(searchText) || theuser.id.includes(searchText) || theuser.joinedat?.toDate().toLocaleString().includes(searchText) ){\n        return theuser;\n      }\n    })\n  }\n\n  // console.log(filterDatas);\n  \n  // search operation end\n\n  const showEditPopup = (data) => {\n    setEditPopup(true);\n    setDeletePopup(false);\n    setBlur(!bgBlur);\n    setEditData(data);\n  };\n \n  const showDeletePopup = (data) => {\n    setDeletePopup(true);\n    setEditPopup(false);\n    setBlur(!bgBlur);\n    setDelData(data);\n  };\n\n  const closePopup = () => {\n    setEditPopup(false);\n    setDeletePopup(false);\n    setBlur(false);\n    setDelData('')\n  };\n\n  const updateUser = async() => {\n    \n    await updateDoc(doc(db, \"users\", editData.id),{\n      firstname : editData.firstname,\n      lastname : editData.lastname,\n      email : editData.email\n    });\n    setEditPopup(false);\n    setBlur(false);\n    getUserData()\n\n  }\n \n  const deleteUser = async(id) => {\n\n    await deleteDoc(doc(db, \"users\", id));\n    setDeletePopup(false);\n    setBlur(false);\n    getUserData()\n  }\n\n  useEffect(() => {\n    getUserData()\n  },[])\n\n  return (\n\n    <div className='w-11/12 flex flex-col justify-center items-center relative'> \n      {load ? <div className='w-full h-96 flex justify-center items-center text-primary text-3xl'>Loading Data <TbLoader3 className='animate-spin'/></div> : <>\n        <table className={bgBlur ? \"p-4 w-11/12 blur-md\" : \"p-4 w-11/12\"}>\n              <thead className='h-20'>\n                  <tr className='th-p text-center bg-outlg border-[1rem] border-bluebg rounded-md'>\n                      <th>Sno</th>\n                      <th>ID</th>\n                      <th>First Name</th>\n                      <th>Last Name</th>\n                      <th>Email</th> \n                      <th>Created at</th>   \n                      <th></th> \n                      <th></th>   \n                  </tr>  \n              </thead>\n              <tbody className=''>\n            {\n               filterDatas.map((data, index) => {\n                return (\n\n                  <tr key={index} className={bgBlur ? 'th-p h-24 text-center bg-outlg border-[1rem] border-bluebg rounded-md':'th-p h-24 text-center bg-outlg border-[1rem] border-bluebg rounded-md duration-300 hover:scale-105'}>\n                    <td>{index+1}</td>\n                    <td>{data.id}</td>\n                    <td>{data.firstname}</td>\n                    <td>{data.lastname}</td>\n                    <td>{data.email}</td>\n                    <td>{data.joinedat?.toDate().toLocaleString()}</td>\n                    <td className=''>\n                        <button className={bgBlur ? \"px-4 py-2 flex justify-center items-center gap-2 bg-secondary text-bluebg rounded-md cursor-default\" : \"px-4 py-2 flex justify-center items-center gap-2 border bg-secondary text-bluebg rounded-md duration-200 hover:text-primary hover:bg-bluebg hover:border-primary\"} \n                        onClick={bgBlur ? null : () => showEditPopup(data)}><span><AiTwotoneEdit /></span><span>Edit</span></button>\n                    </td>\n                    <td>\n                        <button className={bgBlur ? \"px-4 py-2 flex justify-center items-center gap-2 bg-redbg text-bluebg rounded-md cursor-default\" : \"px-4 py-2 flex justify-center items-center gap-2 border bg-redbg text-bluebg rounded-md duration-200 hover:text-redbg hover:bg-bluebg hover:border-redbg\"} \n                        onClick={bgBlur ? null : () => \n                        showDeletePopup(data.id)\n\n                        }><span><MdOutlineDeleteOutline /></span><span>Delete</span></button>\n                    </td>\n                  </tr>\n\n              )})}\n              </tbody>\n          </table> \n          </>}\n              \n\n\n          {/* popup */}\n\n          {editPopup && (\n              <div className=\"popup-card absolute p-2 w-1/2 h-5/6 flex flex-col justify-around items-center\">\n                \n                 <div className=\"w-11/12 flex justify-between items-center\">\n                      <p className='text-xl font-bold'>Update User Record</p>\n                      <p className=\"bg-redbg rounded-full p-1 cursor-pointer\" onClick={closePopup}>\n                        <RxCross2/>\n                      </p>\n                  </div>\n                  \n                    <div className=\"w-full flex justify-center items-center gap-4\">\n                      <label htmlFor=\"ID\">User ID</label>\n                      <input type=\"text\" name=\"ID\" id=\"ID\" \n                      className='w-[70%] bg-bgno cursor-not-allowed'\n                      value={editData.id} \n                      onChange={handleData}\n                      readOnly\n                      />\n                    </div>\n \n                    <div className='w-full flex items-center justify-center gap-16'>\n\n                      <div className=\"flex justify-center items-center gap-4\">\n                        <label htmlFor=\"firstname\">First Name</label>\n                        <input type=\"text\" name=\"firstname\" id=\"fname\" \n                        value={editData.firstname} \n                        onChange={handleData}\n                        />\n                      </div>\n                      \n                      <div className=\"flex justify-center items-center gap-4\">\n                        <label htmlFor=\"lastname\">Last Name</label>\n                        <input type=\"text\" name=\"lastname\" id=\"lname\" \n                        value={editData.lastname}\n                        onChange={handleData}\n                        />\n                      </div>\n\n                    </div>\n                  \n                    <div className=\"w-full flex justify-center items-center gap-4\">\n                      <label htmlFor=\"email\">E-mail</label>\n                      <input type=\"email\" name=\"email\" id=\"email\" \n                      className='w-[70%]'\n                      value={editData.email} \n                      onChange={handleData}\n                      />\n                    </div>\n                    <div>\n                      <button className=\"px-4 py-2 flex justify-center items-center gap-2 bg-secondary text-bluebg border rounded-md duration-200 hover:text-primary hover:bg-bluebg hover:border-primary\" \n                      onClick={() => updateUser()}\n                      >Update</button>\n                  </div>\n\n            </div>\n            )}\n            {deletePopup && (\n                <div className=\"popup-card absolute w-1/2 h-2/3 flex flex-col justify-around items-center\">\n                  <div className=\"w-11/12 flex justify-between items-center\">\n                      <p className='text-xl font-bold'>Delete User Record</p>\n                      <p className=\"bg-redbg rounded-full p-1 cursor-pointer\" onClick={closePopup}>\n                          <RxCross2/>\n                      </p>\n                  </div>\n\n                  <div className=\"w-full flex flex-col justify-center items-center gap-4\">\n                      <p id='ID' className='font-semibold'>User ID: {delData}</p>\n                      <p className='text-xl font-bold'>Are You sure, you want to delete this user!</p>\n                      <button className=\"px-4 py-2 flex justify-center items-center gap-2 border bg-redbg text-bluebg rounded-md duration-200 hover:text-redbg hover:bg-bluebg hover:border-redbg\" onClick={() => deleteUser(delData)}><span><MdOutlineDeleteOutline /></span><span>Delete</span></button>\n                  </div>\n                </div>\n            )}\n</div>\n  )\n}\n\nexport default UserDetails\n\n\n\n\n"],"names":["userDatas","setUserDatas","useState","load","setLoad","bgBlur","setBlur","editData","setEditData","id","firstname","lastname","email","delData","setDelData","editPopup","setEditPopup","deletePopup","setDeletePopup","handleData","e","target","name","value","getUserData","async","users","qry","query","collection","db","getDocs","forEach","ele","push","data","searchText","useSelector","state","search","filterDatas","filter","theuser","_theuser$joinedat","toLowerCase","includes","joinedat","toDate","toLocaleString","closePopup","useEffect","_jsxs","className","children","_jsx","TbLoader3","_Fragment","map","index","_data$joinedat","onClick","showEditPopup","AiTwotoneEdit","showDeletePopup","MdOutlineDeleteOutline","RxCross2","htmlFor","type","onChange","readOnly","updateDoc","doc","updateUser","deleteDoc","deleteUser"],"sourceRoot":""}