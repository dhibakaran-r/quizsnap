"use strict";(self.webpackChunkquizsnap=self.webpackChunkquizsnap||[]).push([[182],{5182:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var r=t(5472),l=t(5043),a=t(1553),n=t(3825),d=t(6720),i=t(2021),c=t(397),o=t(3003),u=t(579);const x=function(){const[e,s]=(0,l.useState)([]),[t,x]=(0,l.useState)(!0),[m,h]=(0,l.useState)(!1),[b,j]=(0,l.useState)([{id:"",firstname:"",lastname:"",email:""}]),[p,f]=(0,l.useState)(""),[g,y]=(0,l.useState)(!1),[v,N]=(0,l.useState)(!1),w=e=>{j({...b,[e.target.name]:e.target.value})},C=async()=>{let e=[];const t=(0,r.P)((0,r.rJ)(a.db,"users"));(await(0,r.GG)(t)).forEach((s=>{e.push({...s.data(),id:s.id})})),s(e),x(!1)},D=(0,o.d4)((e=>e.search.search));let k=[...e];D&&(k=e.filter((e=>{var s;if(e.firstname.toLowerCase().includes(D)||e.lastname.toLowerCase().includes(D)||e.email.toLowerCase().includes(D)||e.id.includes(D)||null!==(s=e.joinedat)&&void 0!==s&&s.toDate().toLocaleString().includes(D))return e})));const S=()=>{y(!1),N(!1),h(!1),f("")};return(0,l.useEffect)((()=>{C()}),[]),(0,u.jsxs)("div",{className:"w-11/12 flex flex-col justify-center items-center relative",children:[t?(0,u.jsxs)("div",{className:"w-full h-96 flex justify-center items-center text-primary text-3xl",children:["Loading Data ",(0,u.jsx)(c.OOC,{className:"animate-spin"})]}):(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("table",{className:m?"p-4 w-11/12 blur-md":"p-4 w-11/12",children:[(0,u.jsx)("thead",{className:"h-20",children:(0,u.jsxs)("tr",{className:"th-p text-center bg-outlg border-[1rem] border-bluebg rounded-md",children:[(0,u.jsx)("th",{children:"Sno"}),(0,u.jsx)("th",{children:"ID"}),(0,u.jsx)("th",{children:"First Name"}),(0,u.jsx)("th",{children:"Last Name"}),(0,u.jsx)("th",{children:"Email"}),(0,u.jsx)("th",{children:"Created at"}),(0,u.jsx)("th",{}),(0,u.jsx)("th",{})]})}),(0,u.jsx)("tbody",{className:"",children:k.map(((e,s)=>{var t;return(0,u.jsxs)("tr",{className:m?"th-p h-24 text-center bg-outlg border-[1rem] border-bluebg rounded-md":"th-p h-24 text-center bg-outlg border-[1rem] border-bluebg rounded-md duration-300 hover:scale-105",children:[(0,u.jsx)("td",{children:s+1}),(0,u.jsx)("td",{children:e.id}),(0,u.jsx)("td",{children:e.firstname}),(0,u.jsx)("td",{children:e.lastname}),(0,u.jsx)("td",{children:e.email}),(0,u.jsx)("td",{children:null===(t=e.joinedat)||void 0===t?void 0:t.toDate().toLocaleString()}),(0,u.jsx)("td",{className:"",children:(0,u.jsxs)("button",{className:m?"px-4 py-2 flex justify-center items-center gap-2 bg-secondary text-bluebg rounded-md cursor-default":"px-4 py-2 flex justify-center items-center gap-2 border bg-secondary text-bluebg rounded-md duration-200 hover:text-primary hover:bg-bluebg hover:border-primary",onClick:m?null:()=>(e=>{y(!0),N(!1),h(!m),j(e)})(e),children:[(0,u.jsx)("span",{children:(0,u.jsx)(n.$Sr,{})}),(0,u.jsx)("span",{children:"Edit"})]})}),(0,u.jsx)("td",{children:(0,u.jsxs)("button",{className:m?"px-4 py-2 flex justify-center items-center gap-2 bg-redbg text-bluebg rounded-md cursor-default":"px-4 py-2 flex justify-center items-center gap-2 border bg-redbg text-bluebg rounded-md duration-200 hover:text-redbg hover:bg-bluebg hover:border-redbg",onClick:m?null:()=>(e=>{N(!0),y(!1),h(!m),f(e)})(e.id),children:[(0,u.jsx)("span",{children:(0,u.jsx)(d.jzL,{})}),(0,u.jsx)("span",{children:"Delete"})]})})]},s)}))})]})}),g&&(0,u.jsxs)("div",{className:"popup-card absolute p-2 w-1/2 h-5/6 flex flex-col justify-around items-center",children:[(0,u.jsxs)("div",{className:"w-11/12 flex justify-between items-center",children:[(0,u.jsx)("p",{className:"text-xl font-bold",children:"Update User Record"}),(0,u.jsx)("p",{className:"bg-redbg rounded-full p-1 cursor-pointer",onClick:S,children:(0,u.jsx)(i.j55,{})})]}),(0,u.jsxs)("div",{className:"w-full flex justify-center items-center gap-4",children:[(0,u.jsx)("label",{htmlFor:"ID",children:"User ID"}),(0,u.jsx)("input",{type:"text",name:"ID",id:"ID",className:"w-[70%] bg-bgno cursor-not-allowed",value:b.id,onChange:w,readOnly:!0})]}),(0,u.jsxs)("div",{className:"w-full flex items-center justify-center gap-16",children:[(0,u.jsxs)("div",{className:"flex justify-center items-center gap-4",children:[(0,u.jsx)("label",{htmlFor:"firstname",children:"First Name"}),(0,u.jsx)("input",{type:"text",name:"firstname",id:"fname",value:b.firstname,onChange:w})]}),(0,u.jsxs)("div",{className:"flex justify-center items-center gap-4",children:[(0,u.jsx)("label",{htmlFor:"lastname",children:"Last Name"}),(0,u.jsx)("input",{type:"text",name:"lastname",id:"lname",value:b.lastname,onChange:w})]})]}),(0,u.jsxs)("div",{className:"w-full flex justify-center items-center gap-4",children:[(0,u.jsx)("label",{htmlFor:"email",children:"E-mail"}),(0,u.jsx)("input",{type:"email",name:"email",id:"email",className:"w-[70%]",value:b.email,onChange:w})]}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{className:"px-4 py-2 flex justify-center items-center gap-2 bg-secondary text-bluebg border rounded-md duration-200 hover:text-primary hover:bg-bluebg hover:border-primary",onClick:()=>(async()=>{await(0,r.mZ)((0,r.H9)(a.db,"users",b.id),{firstname:b.firstname,lastname:b.lastname,email:b.email}),y(!1),h(!1),C()})(),children:"Update"})})]}),v&&(0,u.jsxs)("div",{className:"popup-card absolute w-1/2 h-2/3 flex flex-col justify-around items-center",children:[(0,u.jsxs)("div",{className:"w-11/12 flex justify-between items-center",children:[(0,u.jsx)("p",{className:"text-xl font-bold",children:"Delete User Record"}),(0,u.jsx)("p",{className:"bg-redbg rounded-full p-1 cursor-pointer",onClick:S,children:(0,u.jsx)(i.j55,{})})]}),(0,u.jsxs)("div",{className:"w-full flex flex-col justify-center items-center gap-4",children:[(0,u.jsxs)("p",{id:"ID",className:"font-semibold",children:["User ID: ",p]}),(0,u.jsx)("p",{className:"text-xl font-bold",children:"Are You sure, you want to delete this user!"}),(0,u.jsxs)("button",{className:"px-4 py-2 flex justify-center items-center gap-2 border bg-redbg text-bluebg rounded-md duration-200 hover:text-redbg hover:bg-bluebg hover:border-redbg",onClick:()=>(async e=>{await(0,r.kd)((0,r.H9)(a.db,"users",e)),N(!1),h(!1),C()})(p),children:[(0,u.jsx)("span",{children:(0,u.jsx)(d.jzL,{})}),(0,u.jsx)("span",{children:"Delete"})]})]})]})]})}}}]);
//# sourceMappingURL=182.25c0ef15.chunk.js.map