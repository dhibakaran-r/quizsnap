{"version":3,"file":"static/js/182.bca1d288.chunk.js","mappings":"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","sources":["components/UserDetails.jsx"],"sourcesContent":["import { collection, deleteDoc, doc, getDoc, getDocs, query, updateDoc } from 'firebase/firestore';\nimport React, { useEffect, useState } from 'react'\nimport { db } from '../service/firebase/firebaseConfig';\nimport { AiTwotoneEdit } from \"react-icons/ai\";\nimport { MdOutlineDeleteOutline } from \"react-icons/md\";\nimport { RxCross2 } from \"react-icons/rx\";\nimport { TbLoader3 } from 'react-icons/tb';\n\n\nfunction UserDetails() {\n\n  const [userDatas, setUserDatas] = useState([]);\n  const [load, setLoad] = useState(true);\n  const [bgBlur, setBlur] = useState(false);\n  const [editData, setEditData] = useState([{id:'', firstname:'', lastname:'', email:''}]);\n  const [delData, setDelData] = useState('');\n  const [editPopup, setEditPopup] = useState(false);\n  const [deletePopup, setDeletePopup] = useState(false);\n  \n  const handleData = (e) =>{\n    setEditData({ ...editData, [e.target.name]: e.target.value });\n  }\n  \n  const getUserData = async() =>{\n    let users = [];\n    const qry = query(collection(db, \"users\"));\n    const datasnapshot = await getDocs(qry);\n    datasnapshot.forEach((ele) => {\n        users.push({...ele.data(), id:ele.id})\n    });\n    setUserDatas(users);\n    setLoad(false);\n }\n\n  const showEditPopup = (data) => {\n    setEditPopup(true);\n    setDeletePopup(false);\n    setBlur(!bgBlur);\n    setEditData(data);\n  };\n \n  const showDeletePopup = (data) => {\n    setDeletePopup(true);\n    setEditPopup(false);\n    setBlur(!bgBlur);\n    setDelData(data);\n  };\n\n  const closePopup = () => {\n    setEditPopup(false);\n    setDeletePopup(false);\n    setBlur(false);\n    setDelData('')\n  };\n\n  const updateUser = async() => {\n    \n    await updateDoc(doc(db, \"users\", editData.id),{\n      firstname : editData.firstname,\n      lastname : editData.lastname,\n      email : editData.email\n    });\n    setEditPopup(false);\n    setBlur(false);\n    getUserData()\n\n  }\n \n  const deleteUser = async(id) => {\n\n    await deleteDoc(doc(db, \"users\", id));\n    setDeletePopup(false);\n    setBlur(false);\n    getUserData()\n  }\n\n  useEffect(() => {\n    getUserData()\n  },[])\n\n  return (\n\n    <div className='w-11/12 flex flex-col justify-center items-center relative'> \n      {load ? <div className='w-full h-96 flex justify-center items-center text-primary text-3xl'>Loading Data <TbLoader3 className='animate-spin'/></div> : <>\n        <table className={bgBlur ? \"p-4 w-11/12 blur-md\" : \"p-4 w-11/12\"}>\n              <thead className='h-20'>\n                  <tr className='text-center bg-outlg border-[1rem] border-bluebg rounded-md'>\n                      <th>Sno</th>\n                      <th>ID</th>\n                      <th>First Name</th>\n                      <th>Last Name</th>\n                      <th>Email</th> \n                      <th>Created at</th>   \n                      <th></th> \n                      <th></th>   \n                  </tr>  \n              </thead>\n              <tbody className=''>\n            {\n               userDatas.map((data, index) => {\n                return (\n\n                  <tr key={index} className={bgBlur ? 'h-24 text-center bg-outlg border-[1rem] border-bluebg rounded-md':'h-24 text-center bg-outlg border-[1rem] border-bluebg rounded-md duration-300 hover:scale-105'}>\n                    <td>{index+1}</td>\n                    <td>{data.id}</td>\n                    <td>{data.firstname}</td>\n                    <td>{data.lastname}</td>\n                    <td>{data.email}</td>\n                    <td>{data.joinedat?.toDate().toLocaleString()}</td>\n                    <td className=''>\n                        <button className={bgBlur ? \"px-4 py-2 flex justify-center items-center gap-2 bg-secondary text-bluebg rounded-md cursor-default\" : \"px-4 py-2 flex justify-center items-center gap-2 border bg-secondary text-bluebg rounded-md duration-200 hover:text-primary hover:bg-bluebg hover:border-primary\"} \n                        onClick={bgBlur ? null : () => showEditPopup(data)}><span><AiTwotoneEdit /></span><span>Edit</span></button>\n                    </td>\n                    <td>\n                        <button className={bgBlur ? \"px-4 py-2 flex justify-center items-center gap-2 bg-redbg text-bluebg rounded-md cursor-default\" : \"px-4 py-2 flex justify-center items-center gap-2 border bg-redbg text-bluebg rounded-md duration-200 hover:text-redbg hover:bg-bluebg hover:border-redbg\"} \n                        onClick={bgBlur ? null : () => \n                        showDeletePopup(data.id)\n\n                        }><span><MdOutlineDeleteOutline /></span><span>Delete</span></button>\n                    </td>\n                  </tr>\n\n              )})}\n              </tbody>\n          </table> \n          </>}\n              \n\n\n          {/* popup */}\n\n          {editPopup && (\n              <div className=\"popup-card absolute p-2 w-1/2 h-5/6 flex flex-col justify-around items-center\">\n                \n                 <div className=\"w-11/12 flex justify-between items-center\">\n                      <p className='text-xl font-bold'>Update User Record</p>\n                      <p className=\"bg-redbg rounded-full p-1 cursor-pointer\" onClick={closePopup}>\n                        <RxCross2/>\n                      </p>\n                  </div>\n                  \n                    <div className=\"w-full flex justify-center items-center gap-4\">\n                      <label htmlFor=\"ID\">User ID</label>\n                      <input type=\"text\" name=\"ID\" id=\"ID\" \n                      className='w-[70%] bg-bgno cursor-not-allowed'\n                      value={editData.id} \n                      onChange={handleData}\n                      readOnly\n                      />\n                    </div>\n \n                    <div className='w-full flex items-center justify-center gap-16'>\n\n                      <div className=\"flex justify-center items-center gap-4\">\n                        <label htmlFor=\"firstname\">First Name</label>\n                        <input type=\"text\" name=\"firstname\" id=\"fname\" \n                        value={editData.firstname} \n                        onChange={handleData}\n                        />\n                      </div>\n                      \n                      <div className=\"flex justify-center items-center gap-4\">\n                        <label htmlFor=\"lastname\">Last Name</label>\n                        <input type=\"text\" name=\"lastname\" id=\"lname\" \n                        value={editData.lastname}\n                        onChange={handleData}\n                        />\n                      </div>\n\n                    </div>\n                  \n                    <div className=\"w-full flex justify-center items-center gap-4\">\n                      <label htmlFor=\"email\">E-mail</label>\n                      <input type=\"email\" name=\"email\" id=\"email\" \n                      className='w-[70%]'\n                      value={editData.email} \n                      onChange={handleData}\n                      />\n                    </div>\n                    <div>\n                      <button className=\"px-4 py-2 flex justify-center items-center gap-2 bg-secondary text-bluebg border rounded-md duration-200 hover:text-primary hover:bg-bluebg hover:border-primary\" \n                      onClick={() => updateUser()}\n                      >Update</button>\n                  </div>\n\n            </div>\n            )}\n            {deletePopup && (\n                <div className=\"popup-card absolute w-1/2 h-2/3 flex flex-col justify-around items-center\">\n                  <div className=\"w-11/12 flex justify-between items-center\">\n                      <p className='text-xl font-bold'>Delete User Record</p>\n                      <p className=\"bg-redbg rounded-full p-1 cursor-pointer\" onClick={closePopup}>\n                          <RxCross2/>\n                      </p>\n                  </div>\n\n                  <div className=\"w-full flex flex-col justify-center items-center gap-4\">\n                      <p id='ID' className='font-semibold'>User ID: {delData}</p>\n                      <p className='text-xl font-bold'>Are You sure, you want to delete this user!</p>\n                      <button className=\"px-4 py-2 flex justify-center items-center gap-2 border bg-redbg text-bluebg rounded-md duration-200 hover:text-redbg hover:bg-bluebg hover:border-redbg\" onClick={() => deleteUser(delData)}><span><MdOutlineDeleteOutline /></span><span>Delete</span></button>\n                  </div>\n                </div>\n            )}\n</div>\n  )\n}\n\nexport default UserDetails\n\n\n\n\n"],"names":["userDatas","setUserDatas","useState","load","setLoad","bgBlur","setBlur","editData","setEditData","id","firstname","lastname","email","delData","setDelData","editPopup","setEditPopup","deletePopup","setDeletePopup","handleData","e","target","name","value","getUserData","async","users","qry","query","collection","db","getDocs","forEach","ele","push","data","closePopup","useEffect","_jsxs","className","children","_jsx","TbLoader3","_Fragment","map","index","_data$joinedat","joinedat","toDate","toLocaleString","onClick","showEditPopup","AiTwotoneEdit","showDeletePopup","MdOutlineDeleteOutline","RxCross2","htmlFor","type","onChange","readOnly","updateDoc","doc","updateUser","deleteDoc","deleteUser"],"sourceRoot":""}