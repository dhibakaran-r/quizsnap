"use strict";(self.webpackChunkquizsnap=self.webpackChunkquizsnap||[]).push([[182],{5182:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var r=t(5472),l=t(5043),a=t(1553),n=t(3825),d=t(6720),i=t(2021),c=t(397),x=t(579);const o=function(){const[e,s]=(0,l.useState)([]),[t,o]=(0,l.useState)(!0),[u,m]=(0,l.useState)(!1),[h,b]=(0,l.useState)([{id:"",firstname:"",lastname:"",email:""}]),[j,p]=(0,l.useState)(""),[f,g]=(0,l.useState)(!1),[y,v]=(0,l.useState)(!1),N=e=>{b({...h,[e.target.name]:e.target.value})},w=async()=>{let e=[];const t=(0,r.P)((0,r.rJ)(a.db,"users"));(await(0,r.GG)(t)).forEach((s=>{e.push({...s.data(),id:s.id})})),s(e),o(!1)},C=()=>{g(!1),v(!1),m(!1),p("")};return(0,l.useEffect)((()=>{w()}),[]),(0,x.jsxs)("div",{className:"w-11/12 flex flex-col justify-center items-center relative",children:[t?(0,x.jsxs)("div",{className:"w-full h-96 flex justify-center items-center text-primary text-3xl",children:["Loading Data ",(0,x.jsx)(c.OOC,{className:"animate-spin"})]}):(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("table",{className:u?"p-4 w-11/12 blur-md":"p-4 w-11/12",children:[(0,x.jsx)("thead",{className:"h-20",children:(0,x.jsxs)("tr",{className:"text-center bg-outlg border-[1rem] border-bluebg rounded-md",children:[(0,x.jsx)("th",{children:"Sno"}),(0,x.jsx)("th",{children:"ID"}),(0,x.jsx)("th",{children:"First Name"}),(0,x.jsx)("th",{children:"Last Name"}),(0,x.jsx)("th",{children:"Email"}),(0,x.jsx)("th",{children:"Created at"}),(0,x.jsx)("th",{}),(0,x.jsx)("th",{})]})}),(0,x.jsx)("tbody",{className:"",children:e.map(((e,s)=>{var t;return(0,x.jsxs)("tr",{className:u?"h-24 text-center bg-outlg border-[1rem] border-bluebg rounded-md":"h-24 text-center bg-outlg border-[1rem] border-bluebg rounded-md duration-300 hover:scale-105",children:[(0,x.jsx)("td",{children:s+1}),(0,x.jsx)("td",{children:e.id}),(0,x.jsx)("td",{children:e.firstname}),(0,x.jsx)("td",{children:e.lastname}),(0,x.jsx)("td",{children:e.email}),(0,x.jsx)("td",{children:null===(t=e.joinedat)||void 0===t?void 0:t.toDate().toLocaleString()}),(0,x.jsx)("td",{className:"",children:(0,x.jsxs)("button",{className:u?"px-4 py-2 flex justify-center items-center gap-2 bg-secondary text-bluebg rounded-md cursor-default":"px-4 py-2 flex justify-center items-center gap-2 border bg-secondary text-bluebg rounded-md duration-200 hover:text-primary hover:bg-bluebg hover:border-primary",onClick:u?null:()=>(e=>{g(!0),v(!1),m(!u),b(e)})(e),children:[(0,x.jsx)("span",{children:(0,x.jsx)(n.$Sr,{})}),(0,x.jsx)("span",{children:"Edit"})]})}),(0,x.jsx)("td",{children:(0,x.jsxs)("button",{className:u?"px-4 py-2 flex justify-center items-center gap-2 bg-redbg text-bluebg rounded-md cursor-default":"px-4 py-2 flex justify-center items-center gap-2 border bg-redbg text-bluebg rounded-md duration-200 hover:text-redbg hover:bg-bluebg hover:border-redbg",onClick:u?null:()=>(e=>{v(!0),g(!1),m(!u),p(e)})(e.id),children:[(0,x.jsx)("span",{children:(0,x.jsx)(d.jzL,{})}),(0,x.jsx)("span",{children:"Delete"})]})})]},s)}))})]})}),f&&(0,x.jsxs)("div",{className:"popup-card absolute p-2 w-1/2 h-5/6 flex flex-col justify-around items-center",children:[(0,x.jsxs)("div",{className:"w-11/12 flex justify-between items-center",children:[(0,x.jsx)("p",{className:"text-xl font-bold",children:"Update User Record"}),(0,x.jsx)("p",{className:"bg-redbg rounded-full p-1 cursor-pointer",onClick:C,children:(0,x.jsx)(i.j55,{})})]}),(0,x.jsxs)("div",{className:"w-full flex justify-center items-center gap-4",children:[(0,x.jsx)("label",{htmlFor:"ID",children:"User ID"}),(0,x.jsx)("input",{type:"text",name:"ID",id:"ID",className:"w-[70%] bg-bgno cursor-not-allowed",value:h.id,onChange:N,readOnly:!0})]}),(0,x.jsxs)("div",{className:"w-full flex items-center justify-center gap-16",children:[(0,x.jsxs)("div",{className:"flex justify-center items-center gap-4",children:[(0,x.jsx)("label",{htmlFor:"firstname",children:"First Name"}),(0,x.jsx)("input",{type:"text",name:"firstname",id:"fname",value:h.firstname,onChange:N})]}),(0,x.jsxs)("div",{className:"flex justify-center items-center gap-4",children:[(0,x.jsx)("label",{htmlFor:"lastname",children:"Last Name"}),(0,x.jsx)("input",{type:"text",name:"lastname",id:"lname",value:h.lastname,onChange:N})]})]}),(0,x.jsxs)("div",{className:"w-full flex justify-center items-center gap-4",children:[(0,x.jsx)("label",{htmlFor:"email",children:"E-mail"}),(0,x.jsx)("input",{type:"email",name:"email",id:"email",className:"w-[70%]",value:h.email,onChange:N})]}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{className:"px-4 py-2 flex justify-center items-center gap-2 bg-secondary text-bluebg border rounded-md duration-200 hover:text-primary hover:bg-bluebg hover:border-primary",onClick:()=>(async()=>{await(0,r.mZ)((0,r.H9)(a.db,"users",h.id),{firstname:h.firstname,lastname:h.lastname,email:h.email}),g(!1),m(!1),w()})(),children:"Update"})})]}),y&&(0,x.jsxs)("div",{className:"popup-card absolute w-1/2 h-2/3 flex flex-col justify-around items-center",children:[(0,x.jsxs)("div",{className:"w-11/12 flex justify-between items-center",children:[(0,x.jsx)("p",{className:"text-xl font-bold",children:"Delete User Record"}),(0,x.jsx)("p",{className:"bg-redbg rounded-full p-1 cursor-pointer",onClick:C,children:(0,x.jsx)(i.j55,{})})]}),(0,x.jsxs)("div",{className:"w-full flex flex-col justify-center items-center gap-4",children:[(0,x.jsxs)("p",{id:"ID",className:"font-semibold",children:["User ID: ",j]}),(0,x.jsx)("p",{className:"text-xl font-bold",children:"Are You sure, you want to delete this user!"}),(0,x.jsxs)("button",{className:"px-4 py-2 flex justify-center items-center gap-2 border bg-redbg text-bluebg rounded-md duration-200 hover:text-redbg hover:bg-bluebg hover:border-redbg",onClick:()=>(async e=>{await(0,r.kd)((0,r.H9)(a.db,"users",e)),v(!1),m(!1),w()})(j),children:[(0,x.jsx)("span",{children:(0,x.jsx)(d.jzL,{})}),(0,x.jsx)("span",{children:"Delete"})]})]})]})]})}}}]);
//# sourceMappingURL=182.bca1d288.chunk.js.map